<form
  nz-form
  nzLayout="vertical"
  [formGroup]="addRoleForm"
  (ngSubmit)="submitForm()"
>
  <div nz-row [nzGutter]="{ xs: 8, sm: 16, md: 24, lg: 24, xl: 24 }">
    <div nz-col nzSpan="24">
      <nz-form-item>
        <nz-form-label nzFor="name" nzTooltipTitle="Le nom du rôle doit obligatoirement commencer par app_" nzRequired>
          <span>Nom </span>
        </nz-form-label>
        <nz-form-control [nzErrorTip]="errorTpl">
          <input
            nz-input
            id="name"
            formControlName="name"
            style="width: 100%"
            placeholder="ex: app_admin, app_user, app_doctor"
          />
        </nz-form-control>

        <ng-template #errorTpl let-control>
          @if (control.hasError('required')) {
            <span style="color: red">Ce champ est obligatoire !</span>

          }

          @if (control.hasError('startsWithApp')) {
            <span style="color: red">Le nom du rôle doit commencer par "app_"</span>
          }
          
        </ng-template>
      </nz-form-item>
    </div>
  </div>

  <div nz-row [nzGutter]="{ xs: 8, sm: 16, md: 24, lg: 24, xl: 24 }">
    <div nz-col nzSpan="24">
      <nz-form-item>
        <nz-form-label nzFor="description">
          <span>Description </span>
        </nz-form-label>
        <nz-form-control>
          <textarea
            nz-input
            id="description"
            formControlName="description"
            style="width: 100%"
            placeholder="Entrer une description du rôle"
            [nzAutosize]="{ minRows: 4, maxRows: 6 }"
          ></textarea>
        </nz-form-control>
      </nz-form-item>
    </div>
  </div>

  <br />

  <nz-flex nzAlign="center" nzJustify="center">
    <div style="display: flex; align-items: center; gap: 10px">
      <nz-form-item nz-row class="register-area">
        <button nz-button nzType="primary" [nzGhost]="true" (click)="onClose()">
          Annuler
        </button>
      </nz-form-item>
      <nz-form-item nz-row class="register-area">
        <nz-form-control>
          <button
            type="submit"
            nz-button
            nzType="primary"
            [nzLoading]="loading"
          >
            Enregistrer
          </button>
        </nz-form-control>
      </nz-form-item>
    </div>
  </nz-flex>
</form>
